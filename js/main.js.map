{"version":3,"file":"main.js","sources":["../src/js/scene.js","../src/js/utils/polyfills.js","../src/js/main.js"],"sourcesContent":["\n\nexport class Scene {\n\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.initMouseEvents();\n    this.initWindowEvents();\n  }\n\n  initMouseEvents() {\n    document.addEventListener( 'mousedown', (event) => this.onMouseDown(event), true );\n    //document.addEventListener( 'click', (event) => this.onClick(event), true );\n    document.addEventListener( 'mouseup', (event) => this.onMouseUp(event), true );\n  }\n\n\n\n  initWindowEvents() {\n    window.addEventListener( 'resize', this.onWindowResize.bind(this), false );\n  }\n\n  onWindowResize() {\n    this.camera.aspect = window.innerWidth / window.innerHeight;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize( window.innerWidth, window.innerHeight );\n  }\n\n\n\n  onMouseUp (event) {\n\n\n  }\n\n  onMouseDown(event) {\n\n\n  }\n\n\n}\n","/**\n * Various js polyfills\n */\n\n\nclass PolyfillsSingleton {\n\n  constructor() {\n\n  }\n\n  init() {\n    this.initCustomEventPolyfill();\n  }\n\n  initCustomEventPolyfill() {\n    if ( typeof window.CustomEvent === \"function\" ) return false;\n\n    function CustomEvent ( event, params ) {\n      params = params || { bubbles: false, cancelable: false, detail: undefined };\n      var evt = document.createEvent( 'CustomEvent' );\n      evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n      return evt;\n    }\n\n    CustomEvent.prototype = window.Event.prototype;\n\n    window.CustomEvent = CustomEvent;\n  }\n\n}\n\n\nexport let Polyfills = new PolyfillsSingleton();","/**\n * Main application\n *\n * Creates 2 views: 3D and 2D\n */\n\nimport { Scene } from './scene';\nimport { Polyfills } from './utils/polyfills';\n\nclass Main {\n  constructor() {\n    Polyfills.init();\n    new Scene();\n\n    this.initUploadListener();\n  }\n\n  initUploadListener() {\n    var inputElement = document.getElementById(\"file-input\");\n    inputElement.addEventListener(\"change\", (event) => this.handleFiles(event), true);\n\n  }\n\n  handleFiles(e) {\n    console.log('handle');\n    var file = e.target.files[0]; /* now you can work with the file list */\n\n    var reader = new FileReader();\n    reader.readAsText(file);\n    reader.onloadend = ()=>{\n      //console.log($(reader.result));\n      this.parseXML($.parseXML(reader.result));\n      //var xmlData = $(reader.result);\n    };\n  }\n\n  parseXML(xml) {\n    console.log('parsing..');\n    console.log(xml);\n  }\n\n}\n\ndocument.addEventListener('DOMContentLoaded', event => new Main());\n"],"names":["Scene","init","initMouseEvents","initWindowEvents","addEventListener","event","onMouseDown","onMouseUp","onWindowResize","bind","camera","aspect","window","innerWidth","innerHeight","updateProjectionMatrix","renderer","setSize","PolyfillsSingleton","initCustomEventPolyfill","CustomEvent","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","prototype","Event","Polyfills","Main","initUploadListener","inputElement","getElementById","handleFiles","e","log","file","target","files","reader","FileReader","readAsText","onloadend","parseXML","$","result","xml"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEaA,KAAb;mBAEgB;;;SACPC,IAAL;;;;;2BAGK;WACAC,eAAL;WACKC,gBAAL;;;;sCAGgB;;;eACPC,gBAAT,CAA2B,WAA3B,EAAwC,UAACC,KAAD;eAAW,MAAKC,WAAL,CAAiBD,KAAjB,CAAX;OAAxC,EAA4E,IAA5E;;eAESD,gBAAT,CAA2B,SAA3B,EAAsC,UAACC,KAAD;eAAW,MAAKE,SAAL,CAAeF,KAAf,CAAX;OAAtC,EAAwE,IAAxE;;;;uCAKiB;aACVD,gBAAP,CAAyB,QAAzB,EAAmC,KAAKI,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAnC,EAAmE,KAAnE;;;;qCAGe;WACVC,MAAL,CAAYC,MAAZ,GAAqBC,OAAOC,UAAP,GAAoBD,OAAOE,WAAhD;WACKJ,MAAL,CAAYK,sBAAZ;WACKC,QAAL,CAAcC,OAAd,CAAuBL,OAAOC,UAA9B,EAA0CD,OAAOE,WAAjD;;;;8BAKST,KA/Bb,EA+BoB;;;gCAKNA,KApCd,EAoCqB;;;;;ACtCrB;;;;IAKMa;gCAEU;;;;;;2BAIP;WACAC,uBAAL;;;;8CAGwB;UACnB,OAAOP,OAAOQ,WAAd,KAA8B,UAAnC,EAAgD,OAAO,KAAP;;eAEvCA,WAAT,CAAuBf,KAAvB,EAA8BgB,MAA9B,EAAuC;iBAC5BA,UAAU,EAAEC,SAAS,KAAX,EAAkBC,YAAY,KAA9B,EAAqCC,QAAQC,SAA7C,EAAnB;YACIC,MAAMC,SAASC,WAAT,CAAsB,aAAtB,CAAV;YACIC,eAAJ,CAAqBxB,KAArB,EAA4BgB,OAAOC,OAAnC,EAA4CD,OAAOE,UAAnD,EAA+DF,OAAOG,MAAtE;eACOE,GAAP;;;kBAGUI,SAAZ,GAAwBlB,OAAOmB,KAAP,CAAaD,SAArC;;aAEOV,WAAP,GAAqBA,WAArB;;;;;;AAMJ,AAAO,IAAIY,YAAY,IAAId,kBAAJ,EAAhB;;ACjCP;;;;;;AAMA,AACA,IAEMe;kBACU;;;cACFhC,IAAV;QACID,KAAJ;;SAEKkC,kBAAL;;;;;yCAGmB;;;UACfC,eAAeR,SAASS,cAAT,CAAwB,YAAxB,CAAnB;mBACahC,gBAAb,CAA8B,QAA9B,EAAwC,UAACC,KAAD;eAAW,MAAKgC,WAAL,CAAiBhC,KAAjB,CAAX;OAAxC,EAA4E,IAA5E;;;;gCAIUiC,GAAG;;;cACLC,GAAR,CAAY,QAAZ;UACIC,OAAOF,EAAEG,MAAF,CAASC,KAAT,CAAe,CAAf,CAAX,CAFa;;UAITC,SAAS,IAAIC,UAAJ,EAAb;aACOC,UAAP,CAAkBL,IAAlB;aACOM,SAAP,GAAmB,YAAI;;eAEhBC,QAAL,CAAcC,EAAED,QAAF,CAAWJ,OAAOM,MAAlB,CAAd;;OAFF;;;;6BAOOC,KAAK;cACJX,GAAR,CAAY,WAAZ;cACQA,GAAR,CAAYW,GAAZ;;;;;;AAKJvB,SAASvB,gBAAT,CAA0B,kBAA1B,EAA8C;SAAS,IAAI6B,IAAJ,EAAT;CAA9C;;"}